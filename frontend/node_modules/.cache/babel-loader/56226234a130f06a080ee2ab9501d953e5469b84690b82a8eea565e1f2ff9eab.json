{"ast":null,"code":"import React from'react';import{useAppStore}from'../store/appStore';import toast from'react-hot-toast';import{CheckCircle,XCircle,Clock,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AppointmentsView=()=>{const appointments=useAppStore(state=>state.appointments);const updateAppointmentStatus=useAppStore(state=>state.updateAppointmentStatus);const deleteAppointment=useAppStore(state=>state.deleteAppointment);const isLoading=useAppStore(state=>state.isLoading);const getStatusIcon=status=>{switch(status){case'CONFIRMED':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-500\"});case'CANCELLED':return/*#__PURE__*/_jsx(XCircle,{className:\"w-5 h-5 text-red-500\"});case'NO_SHOW':return/*#__PURE__*/_jsx(XCircle,{className:\"w-5 h-5 text-orange-500\"});default:return/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 text-yellow-500\"});}};const getStatusColor=status=>{switch(status){case'CONFIRMED':return'bg-green-100 text-green-800';case'CANCELLED':return'bg-red-100 text-red-800';case'NO_SHOW':return'bg-orange-100 text-orange-800';default:return'bg-yellow-100 text-yellow-800';}};const handleStatusUpdate=async(id,newStatus)=>{try{await updateAppointmentStatus(id,newStatus);toast.success(\"Appointment marked as \".concat(newStatus));}catch(_unused){toast.error('Failed to update appointment');}};const handleDelete=async id=>{if(window.confirm('Are you sure?')){try{await deleteAppointment(id);toast.success('Appointment deleted');}catch(_unused2){toast.error('Failed to delete appointment');}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Appointments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-b\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\",children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y\",children:appointments.map(appointment=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:appointment.customerName}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:[new Date(appointment.appointmentDate).toLocaleDateString(),\" \",appointment.startTime]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:appointment.customerPhone}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium flex items-center gap-2 w-fit \".concat(getStatusColor(appointment.status)),children:[getStatusIcon(appointment.status),appointment.status]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-right\",children:[appointment.status==='PENDING'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate(appointment.id,'CONFIRMED'),className:\"text-green-600 hover:text-green-900 mr-3 text-sm font-medium\",children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStatusUpdate(appointment.id,'CANCELLED'),className:\"text-red-600 hover:text-red-900 mr-3 text-sm font-medium\",children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(appointment.id),className:\"text-gray-600 hover:text-gray-900\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]},appointment.id))})]})})]});};export default AppointmentsView;","map":{"version":3,"names":["React","useAppStore","toast","CheckCircle","XCircle","Clock","Trash2","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppointmentsView","appointments","state","updateAppointmentStatus","deleteAppointment","isLoading","getStatusIcon","status","className","getStatusColor","handleStatusUpdate","id","newStatus","success","concat","_unused","error","handleDelete","window","confirm","_unused2","children","map","appointment","customerName","Date","appointmentDate","toLocaleDateString","startTime","customerPhone","onClick"],"sources":["C:/mawa3id/frontend/src/components/AppointmentsView.js"],"sourcesContent":["import React from 'react';\r\nimport { useAppStore } from '../store/appStore';\r\nimport toast from 'react-hot-toast';\r\nimport { CheckCircle, XCircle, Clock, Trash2 } from 'lucide-react';\r\n\r\nconst AppointmentsView = () => {\r\n  const appointments = useAppStore((state) => state.appointments);\r\n  const updateAppointmentStatus = useAppStore((state) => state.updateAppointmentStatus);\r\n  const deleteAppointment = useAppStore((state) => state.deleteAppointment);\r\n  const isLoading = useAppStore((state) => state.isLoading);\r\n\r\n  const getStatusIcon = (status) => {\r\n    switch (status) {\r\n      case 'CONFIRMED':\r\n        return <CheckCircle className=\"w-5 h-5 text-green-500\" />;\r\n      case 'CANCELLED':\r\n        return <XCircle className=\"w-5 h-5 text-red-500\" />;\r\n      case 'NO_SHOW':\r\n        return <XCircle className=\"w-5 h-5 text-orange-500\" />;\r\n      default:\r\n        return <Clock className=\"w-5 h-5 text-yellow-500\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'CONFIRMED':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'CANCELLED':\r\n        return 'bg-red-100 text-red-800';\r\n      case 'NO_SHOW':\r\n        return 'bg-orange-100 text-orange-800';\r\n      default:\r\n        return 'bg-yellow-100 text-yellow-800';\r\n    }\r\n  };\r\n\r\n  const handleStatusUpdate = async (id, newStatus) => {\r\n    try {\r\n      await updateAppointmentStatus(id, newStatus);\r\n      toast.success(`Appointment marked as ${newStatus}`);\r\n    } catch {\r\n      toast.error('Failed to update appointment');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure?')) {\r\n      try {\r\n        await deleteAppointment(id);\r\n        toast.success('Appointment deleted');\r\n      } catch {\r\n        toast.error('Failed to delete appointment');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Appointments</h2>\r\n\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50 border-b\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\">Customer</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\">Date & Time</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\">Phone</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase\">Status</th>\r\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y\">\r\n            {appointments.map((appointment) => (\r\n              <tr key={appointment.id} className=\"hover:bg-gray-50\">\r\n                <td className=\"px-6 py-4 text-sm text-gray-900\">{appointment.customerName}</td>\r\n                <td className=\"px-6 py-4 text-sm text-gray-900\">\r\n                  {new Date(appointment.appointmentDate).toLocaleDateString()} {appointment.startTime}\r\n                </td>\r\n                <td className=\"px-6 py-4 text-sm text-gray-900\">{appointment.customerPhone}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <span className={`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-2 w-fit ${getStatusColor(appointment.status)}`}>\r\n                    {getStatusIcon(appointment.status)}\r\n                    {appointment.status}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-right\">\r\n                  {appointment.status === 'PENDING' && (\r\n                    <>\r\n                      <button\r\n                        onClick={() => handleStatusUpdate(appointment.id, 'CONFIRMED')}\r\n                        className=\"text-green-600 hover:text-green-900 mr-3 text-sm font-medium\"\r\n                      >\r\n                        Confirm\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleStatusUpdate(appointment.id, 'CANCELLED')}\r\n                        className=\"text-red-600 hover:text-red-900 mr-3 text-sm font-medium\"\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                  <button\r\n                    onClick={() => handleDelete(appointment.id)}\r\n                    className=\"text-gray-600 hover:text-gray-900\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppointmentsView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}