{"ast":null,"code":"import React,{useEffect}from'react';import{Navigate}from'react-router-dom';import{useAuthStore}from'../store/authStore';import{jsx as _jsx}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children}=_ref;const isAuthenticated=useAuthStore(state=>state.isAuthenticated());const user=useAuthStore(state=>state.user);const fetchProfile=useAuthStore(state=>state.fetchProfile);useEffect(()=>{if(isAuthenticated&&!user){fetchProfile();}},[isAuthenticated,user,fetchProfile]);if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};export default PrivateRoute;","map":{"version":3,"names":["React","useEffect","Navigate","useAuthStore","jsx","_jsx","PrivateRoute","_ref","children","isAuthenticated","state","user","fetchProfile","to"],"sources":["C:/mawa3id/frontend/src/components/PrivateRoute.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { useAuthStore } from '../store/authStore';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n  const isAuthenticated = useAuthStore((state) => state.isAuthenticated());\r\n  const user = useAuthStore((state) => state.user);\r\n  const fetchProfile = useAuthStore((state) => state.fetchProfile);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && !user) {\r\n      fetchProfile();\r\n    }\r\n  }, [isAuthenticated, user, fetchProfile]);\r\n\r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/login\" />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,YAAY,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChC,KAAM,CAAAE,eAAe,CAAGN,YAAY,CAAEO,KAAK,EAAKA,KAAK,CAACD,eAAe,CAAC,CAAC,CAAC,CACxE,KAAM,CAAAE,IAAI,CAAGR,YAAY,CAAEO,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CAChD,KAAM,CAAAC,YAAY,CAAGT,YAAY,CAAEO,KAAK,EAAKA,KAAK,CAACE,YAAY,CAAC,CAEhEX,SAAS,CAAC,IAAM,CACd,GAAIQ,eAAe,EAAI,CAACE,IAAI,CAAE,CAC5BC,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAAE,CAACH,eAAe,CAAEE,IAAI,CAAEC,YAAY,CAAC,CAAC,CAEzC,GAAI,CAACH,eAAe,CAAE,CACpB,mBAAOJ,IAAA,CAACH,QAAQ,EAACW,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CAEA,MAAO,CAAAL,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}