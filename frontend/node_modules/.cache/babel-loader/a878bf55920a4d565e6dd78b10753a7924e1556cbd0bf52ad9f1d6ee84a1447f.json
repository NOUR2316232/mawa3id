{"ast":null,"code":"import _objectSpread from\"C:/mawa3id/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{create}from'zustand';import{servicesAPI,availabilityAPI,appointmentsAPI,analyticsAPI}from'../api/client';export const useAppStore=create((set,get)=>({services:[],availability:[],appointments:[],analytics:null,isLoading:false,error:null,// Services\nfetchServices:async()=>{set({isLoading:true,error:null});try{const response=await servicesAPI.getAll();set({services:response.data,isLoading:false});}catch(error){set({error:'Failed to fetch services',isLoading:false});}},createService:async data=>{set({isLoading:true,error:null});try{const response=await servicesAPI.create(data);set(state=>({services:[...state.services,response.data],isLoading:false}));return response.data;}catch(error){set({error:'Failed to create service',isLoading:false});throw error;}},updateService:async(id,data)=>{set({isLoading:true,error:null});try{const response=await servicesAPI.update(id,data);set(state=>({services:state.services.map(s=>s.id===id?response.data:s),isLoading:false}));return response.data;}catch(error){set({error:'Failed to update service',isLoading:false});throw error;}},deleteService:async id=>{set({isLoading:true,error:null});try{await servicesAPI.delete(id);set(state=>({services:state.services.filter(s=>s.id!==id),isLoading:false}));}catch(error){set({error:'Failed to delete service',isLoading:false});throw error;}},// Availability\nfetchAvailability:async()=>{set({isLoading:true,error:null});try{const response=await availabilityAPI.getAll();set({availability:response.data,isLoading:false});}catch(error){set({error:'Failed to fetch availability',isLoading:false});}},createAvailability:async data=>{set({isLoading:true,error:null});try{const response=await availabilityAPI.create(data);set(state=>({availability:[...state.availability,response.data],isLoading:false}));return response.data;}catch(error){set({error:'Failed to create availability',isLoading:false});throw error;}},deleteAvailability:async id=>{set({isLoading:true,error:null});try{await availabilityAPI.delete(id);set(state=>({availability:state.availability.filter(a=>a.id!==id),isLoading:false}));}catch(error){set({error:'Failed to delete availability',isLoading:false});throw error;}},// Appointments\nfetchAppointments:async()=>{set({isLoading:true,error:null});try{const response=await appointmentsAPI.getAll();set({appointments:response.data,isLoading:false});}catch(error){set({error:'Failed to fetch appointments',isLoading:false});}},createAppointment:async data=>{set({isLoading:true,error:null});try{const response=await appointmentsAPI.create(data);set(state=>({appointments:[...state.appointments,response.data],isLoading:false}));return response.data;}catch(error){set({error:'Failed to create appointment',isLoading:false});throw error;}},updateAppointmentStatus:async(id,status)=>{set({isLoading:true,error:null});try{const response=await appointmentsAPI.updateStatus(id,status);set(state=>({appointments:state.appointments.map(a=>a.id===id?_objectSpread(_objectSpread({},a),{},{status}):a),isLoading:false}));return response.data;}catch(error){set({error:'Failed to update appointment',isLoading:false});throw error;}},deleteAppointment:async id=>{set({isLoading:true,error:null});try{await appointmentsAPI.delete(id);set(state=>({appointments:state.appointments.filter(a=>a.id!==id),isLoading:false}));}catch(error){set({error:'Failed to delete appointment',isLoading:false});throw error;}},// Analytics\nfetchAnalytics:async()=>{set({isLoading:true,error:null});try{const response=await analyticsAPI.getAnalytics();set({analytics:response.data,isLoading:false});}catch(error){set({error:'Failed to fetch analytics',isLoading:false});}}}));","map":{"version":3,"names":["create","servicesAPI","availabilityAPI","appointmentsAPI","analyticsAPI","useAppStore","set","get","services","availability","appointments","analytics","isLoading","error","fetchServices","response","getAll","data","createService","state","updateService","id","update","map","s","deleteService","delete","filter","fetchAvailability","createAvailability","deleteAvailability","a","fetchAppointments","createAppointment","updateAppointmentStatus","status","updateStatus","_objectSpread","deleteAppointment","fetchAnalytics","getAnalytics"],"sources":["C:/mawa3id/frontend/src/store/appStore.js"],"sourcesContent":["import { create } from 'zustand';\r\nimport { servicesAPI, availabilityAPI, appointmentsAPI, analyticsAPI } from '../api/client';\r\n\r\nexport const useAppStore = create((set, get) => ({\r\n  services: [],\r\n  availability: [],\r\n  appointments: [],\r\n  analytics: null,\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  // Services\r\n  fetchServices: async () => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await servicesAPI.getAll();\r\n      set({ services: response.data, isLoading: false });\r\n    } catch (error) {\r\n      set({ error: 'Failed to fetch services', isLoading: false });\r\n    }\r\n  },\r\n\r\n  createService: async (data) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await servicesAPI.create(data);\r\n      set((state) => ({\r\n        services: [...state.services, response.data],\r\n        isLoading: false,\r\n      }));\r\n      return response.data;\r\n    } catch (error) {\r\n      set({ error: 'Failed to create service', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  updateService: async (id, data) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await servicesAPI.update(id, data);\r\n      set((state) => ({\r\n        services: state.services.map((s) => (s.id === id ? response.data : s)),\r\n        isLoading: false,\r\n      }));\r\n      return response.data;\r\n    } catch (error) {\r\n      set({ error: 'Failed to update service', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  deleteService: async (id) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      await servicesAPI.delete(id);\r\n      set((state) => ({\r\n        services: state.services.filter((s) => s.id !== id),\r\n        isLoading: false,\r\n      }));\r\n    } catch (error) {\r\n      set({ error: 'Failed to delete service', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Availability\r\n  fetchAvailability: async () => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await availabilityAPI.getAll();\r\n      set({ availability: response.data, isLoading: false });\r\n    } catch (error) {\r\n      set({ error: 'Failed to fetch availability', isLoading: false });\r\n    }\r\n  },\r\n\r\n  createAvailability: async (data) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await availabilityAPI.create(data);\r\n      set((state) => ({\r\n        availability: [...state.availability, response.data],\r\n        isLoading: false,\r\n      }));\r\n      return response.data;\r\n    } catch (error) {\r\n      set({ error: 'Failed to create availability', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  deleteAvailability: async (id) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      await availabilityAPI.delete(id);\r\n      set((state) => ({\r\n        availability: state.availability.filter((a) => a.id !== id),\r\n        isLoading: false,\r\n      }));\r\n    } catch (error) {\r\n      set({ error: 'Failed to delete availability', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Appointments\r\n  fetchAppointments: async () => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await appointmentsAPI.getAll();\r\n      set({ appointments: response.data, isLoading: false });\r\n    } catch (error) {\r\n      set({ error: 'Failed to fetch appointments', isLoading: false });\r\n    }\r\n  },\r\n\r\n  createAppointment: async (data) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await appointmentsAPI.create(data);\r\n      set((state) => ({\r\n        appointments: [...state.appointments, response.data],\r\n        isLoading: false,\r\n      }));\r\n      return response.data;\r\n    } catch (error) {\r\n      set({ error: 'Failed to create appointment', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  updateAppointmentStatus: async (id, status) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await appointmentsAPI.updateStatus(id, status);\r\n      set((state) => ({\r\n        appointments: state.appointments.map((a) =>\r\n          a.id === id ? { ...a, status } : a\r\n        ),\r\n        isLoading: false,\r\n      }));\r\n      return response.data;\r\n    } catch (error) {\r\n      set({ error: 'Failed to update appointment', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  deleteAppointment: async (id) => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      await appointmentsAPI.delete(id);\r\n      set((state) => ({\r\n        appointments: state.appointments.filter((a) => a.id !== id),\r\n        isLoading: false,\r\n      }));\r\n    } catch (error) {\r\n      set({ error: 'Failed to delete appointment', isLoading: false });\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Analytics\r\n  fetchAnalytics: async () => {\r\n    set({ isLoading: true, error: null });\r\n    try {\r\n      const response = await analyticsAPI.getAnalytics();\r\n      set({ analytics: response.data, isLoading: false });\r\n    } catch (error) {\r\n      set({ error: 'Failed to fetch analytics', isLoading: false });\r\n    }\r\n  },\r\n}));\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}